<!DOCTYPE html>
{% load static %}
<head>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ecommerce.com</title>
    {% include 'base/css.html' %}

    {% block base_head %}{% endblock %}
</head>
<body>
{% include 'base/nav.html' with brand_name='eCommerce' %}

<!-- Role Indicator Badge -->
{% if request.user.is_authenticated %}
<div style="position: fixed; top: 70px; right: 20px; z-index: 1000;">
    {% if request.user.is_admin %}
        <span class="badge badge-danger badge-pill" style="font-size: 0.8em;">ADMIN MODE</span>
    {% elif request.user.is_merchant %}
        <span class="badge badge-success badge-pill" style="font-size: 0.8em;">MERCHANT MODE</span>
    {% endif %}
</div>
{% endif %}

<div class="container">
{% block content %}
{% endblock content %}
</div>
{% include 'base/js.html' %}
<!-- <script type="text/javascript">
//       $(document).ready(function(){
//       $updateForm = $(".update-form")
//       $updateForm.submit(function(event){
//       event.preventDefault();
//       console.log("Form is not sending")
//       var thisForm = $(this)
//       var actionEndpoint = thisForm.attr('action');
//       var httpMethod = thisForm.attr('method');
//       var formData = thisForm.serialize();
//         $.ajax(
//         {
//           url:actionEndpoint,
//           method:httpMethod,
//           data:formData,
//           success:function(data)
//           {
//             var submitSpan = thisForm.find(".submit-span")
//               if(data.added)
//               {
//               submitSpan.html('In Cart <button type="submit" class="btn btn-link">Remove?</button>')
//               }
//               else
//               {
//               submitSpan.html('<button type="submit" class="btn btn-success">Add to Cart</button>')
//               }
//             var navbarCount = $(".navbar-cart-count")
//             navbarCount.text(data.cartItemCount)
//             var currentPath = window.location.href
//             if(currentPath.indexOf("cart")!= -1)
//             {
//               refreshCart
//           },
//           error:function(errorData)
//           {
//             console.log("error")
//             console.log(errorData)
//           }
//       });
//     })

// });
</script>-->
</body>
</html>
